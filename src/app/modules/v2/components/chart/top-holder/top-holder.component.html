<div class="">
    <div class="border border-gray-700 hover:border-white rounded-lg shadow-md bg-gray-800 overflow-hidden">
      <!-- Loading State -->
      <div *ngIf="loading" class="flex justify-center items-center h-[200px]">
        <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-white"></div>
      </div>
  
      <!-- Error State -->
      <div *ngIf="error" class="flex justify-center items-center h-[200px] text-red-400">
        {{ error }}
      </div>
  
      <!-- Data Table -->
      <table *ngIf="!loading && !error" class="w-full">
        <thead>
          <tr class="bg-gray-800 border-b border-gray-700">
            <th class="px-3 py-3 text-left text-xs font-medium text-gray-300">Wallet</th>
            <th class="px-4 py-3 text-left text-xs font-medium text-gray-300">Balance</th>
            <th class="px-4 py-3 text-right text-xs font-medium text-gray-300">Supply %</th>
          </tr>
        </thead>
  
        <virtual-scroller #scroll style="width:100% !important;" [childHeight]="46" 
          [items]="holders" [enableUnequalChildrenSizes]="false" 
          [bufferAmount]="5" class="h-[500px]">
          
          <tbody>
            <tr *ngFor="let holder of scroll.viewPortItems" 
              class="hover:bg-gray-700 transition-all duration-200 border-b border-gray-700/20">
              
              <td class="px-3 py-2">
                <a [href]="'https://solscan.io/account/' + holder.owner" 
                  target="_blank"
                  class="text-white font-medium text-xs hover:text-blue-400 transition-colors duration-200">
                  {{ holder.owner | shortenAddress }}
                </a>
              </td>
          
              <td class="px-3 py-2">
                <div class="flex flex-col">
                  <span class="text-gray-300 text-xs" [numberAnimation]="holder.uiAmount | number:'1.0-2'">
                    {{ holder.uiAmount | number:'1.0-2' }}
                  </span>
                  <span class="text-gray-400 text-[10px] font-medium" 
                        [numberAnimation]="holder.uiAmount * ((token.mc / token.supply) || 0)">
                    ${{ holder.uiAmount * ((token.mc / token.supply) || 0) | number:'1.0-2' }}
                  </span>
                </div>
              </td>
          
              <td class="px-3 py-2 text-right">
                <span class="text-gray-300 text-xs" [numberAnimation]="calculatePercentage(holder.amount) | number:'1.0-2'">
                  {{ calculatePercentage(holder.amount) | number:'1.0-2' }}%
                </span>
              </td>
            </tr>
          </tbody>
          
        </virtual-scroller>
      </table>
  
      <!-- Last Update -->
      <div *ngIf="!loading && !error" class="text-xs text-gray-400 p-2 text-right border-t border-gray-700">
        Last updated: {{ lastUpdate | date:'medium' }}
      </div>
    </div>
  </div>
  